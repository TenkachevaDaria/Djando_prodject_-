{% load static %}

<div>
    <h2 class="basket__title">Корзина</h2>
<form class="basket__form">  
    <input type="checkbox" id="select_all" name="select_all" class="custom_checkbox">
    <label for="select_all" class="select_all_label">Выбрать всё</label>
    <ul class="basket__item_list">
        {% for basket_user in baskets %}
            <li class="basket__item">
                <input type="checkbox" id="{{ basket_user.id }}" name="basket_item" >
                <div class="item_box">

                    {% if basket_user.product.image %}
                        <div class="img_decor_card">
                            <img src="{{ basket_user.product.image.url }}" alt="" class="item__img">
                        </div>
                    {% else %}
                        <img src="{% static 'deps/отсутсвует.png' %}" alt="" class="item__img">
                    {% endif %}

                    <div class="pos_box_price">
                        <h3 class="item__name">{{ basket_user.product.name|truncatechars:33 }}</h3>
                        <p class="item__price">{{ basket_user.products_price }}  ₽</p>
                        <p class="item__sort_descr">{{ basket_user.product.description|truncatechars:35 }}</p>
                        <p class="item__platform">{{ basket_user.product.category }}</p>
                        <div class="item__counter_box">
                            <span class="input_group_btn">

                                <button type="button" class="counter_btn decrement"
                                    data-basket-id="{{ basket_user.id }}"
                                    data-basket-change-url="{% url "basket:basket_change" %}">
                                    {% csrf_token %}
                                    -</button>

                            </span>
                            
                            <input type="text" class="form-control number" value="{{ basket_user.quantity }}"
                                readonly>

                            <span class="input-group-btn">

                                <button type="button" class="counter_btn increment"
                                    data-basket-id="{{ basket_user.id }}"
                                    data-basket-change-url="{% url "basket:basket_change" %}">
                                    {% csrf_token %}
                                    +</button>

                            </span>
                        </div>
                        <a href="{% url "basket:basket_remove" %}" class="delete_product_btn remove-from-basket"
                        data-basket-id="{{ basket_user.id }}">
                        {% csrf_token %}
                            <svg width="19.000000" height="21.000000" viewBox="0 0 19 21" fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink">
                                <desc>
                                    Created with Pixso.
                                </desc>
                                <defs />
                                <path id="Vector"
                                    d="M14.15 20.22L4.04 20.22C2.92 20.22 3.38 20.22 2.02 20.22L2.02 5.05L0 5.05L0 3.03L4.04 3.03L4.04 2.02C4.04 0.9 4.04 0.38 4.04 0L14.15 0C14.19 1 14.15 0.9 14.15 2.02L14.15 3.03L18.19 3.03L18.19 5.05L16.17 5.05L16.17 20.22C14.83 20.22 15.27 20.22 14.15 20.22ZM4.04 5.05L4.04 18.2L14.15 18.2L14.15 5.05L4.04 5.05ZM6.06 2.02L6.06 3.03L12.13 3.03L12.13 2.02L6.06 2.02ZM12.13 16.17L10.11 16.17L10.11 7.07L12.13 7.07L12.13 16.17ZM8.08 16.17L6.06 16.17L6.06 7.07L8.08 7.07L8.08 16.17Z"
                                    fill="#1C2541" fill-opacity="1.000000" fill-rule="nonzero" />
                            </svg>
                        </a>
                    </div>
                </div>
            </li> 
        {% endfor %}

    </ul>
</form>
</div>
<div class="right_basket_container">
    <div class="paymen_method_form">
        <div class="paymen_method_form__container">
            <h3 class="paymen_method_form__title">Способ оплаты</h3>
            <ul class="btn_choose_payment_list">
                <li><button class="payment_way btn">Способ1</button></li>
                <li><button class="payment_way btn">Способ2</button></li>
            </ul>
            <button class="payment_way payment_way__btn_chose btn ">Добавить способ оплаты</button>
        </div>
    </div>
    <p id="products-in-basket-count" class="products_counter">Товары, {{ baskets.total_quantity }} шт.</p>
    <div class="total_price_container">
        <p class="total_price_name"><b>Итого</b></p>
        <p class="total_price_num"><b>{{ baskets.total_price }} &#8381;</b></p>
    </div>
    
    {% if baskets %}
        <button class="payment_way__btn btn">
            Купить
        </button>
    {% endif %}
    
</div>